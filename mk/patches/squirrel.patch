diff --git a/CMakeLists.txt b/CMakeLists.txt
index dc35b6f..b7ce755 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -87,12 +87,12 @@ configure_package_config_file(
   INSTALL_DESTINATION "${CMAKE_INSTALL_LIBDIR}/cmake/squirrel"
   )
 
-export(EXPORT squirrel
-  NAMESPACE squirrel::
-  FILE "${CMAKE_CURRENT_BINARY_DIR}/${CMAKE_INSTALL_LIBDIR}/cmake/squirrel/squirrel-targets.cmake"
-  )
-
 if(NOT SQ_DISABLE_INSTALLER AND NOT SQ_DISABLE_CMAKE_INSTALLER)
+  export(EXPORT squirrel
+    NAMESPACE squirrel::
+    FILE "${CMAKE_CURRENT_BINARY_DIR}/${CMAKE_INSTALL_LIBDIR}/cmake/squirrel/squirrel-targets.cmake"
+    )
+
   install(FILES
     "${CMAKE_CURRENT_BINARY_DIR}/${CMAKE_INSTALL_LIBDIR}/cmake/squirrel/squirrel-config-version.cmake"
     "${CMAKE_CURRENT_BINARY_DIR}/${CMAKE_INSTALL_LIBDIR}/cmake/squirrel/squirrel-config.cmake"
diff --git a/sq/CMakeLists.txt b/sq/CMakeLists.txt
index bdea07d..f7629a3 100644
--- a/sq/CMakeLists.txt
+++ b/sq/CMakeLists.txt
@@ -15,7 +15,7 @@ endif()
 
 if(NOT DISABLE_STATIC)
   add_executable(sq_static sq.c)
-  add_executable(squirrel::interpreter_static ALIAS sq)
+  add_executable(squirrel::interpreter_static ALIAS sq_static)
   set_target_properties(sq_static PROPERTIES LINKER_LANGUAGE C EXPORT_NAME interpreter_static)
   target_link_libraries(sq_static squirrel_static sqstdlib_static)
   if(NOT SQ_DISABLE_INSTALLER)
